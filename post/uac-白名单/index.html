<!DOCTYPE html>
<html>

<head>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-104502658-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-104502658-1');
  </script>
  

  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>UAC 白名单  &middot; Mogeko`s Blog</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="canonical" href="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/">
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css">
  <link rel="stylesheet" href="/css/styles.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
  <link rel="stylesheet" href="/css/custom.css">
  <script src="/js/jquery.js"></script>
  <script src="/js/custom.js"></script>

</head>

<body>
  <div class="top-scroll-bar"></div>
  <div class="navbar">
    <ul>
      <li><a href="/" class="logo-title">HELLO,WORLD!</a></li>
      <li><a href="/categories">CATEGORIES</a></li>
      <li><a href="/tags">TAGS</a></li>
    </ul>
  </div>
  <div class="container">
    <div class="title">
      <a href="/">
        <img src="/images/logo.png" width="260px" height="48px" />
      </a>
    </div>


<a href="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/">
  <div class="post-title">
    <img src="/images/post-title-icon.png" />
    <div class="post-meta">
      <time>18 Aug 2017, 18:00</time>
      <h1>UAC 白名单</h1>
    </div>
  </div>
</a>



<section class="post-content">
  <p>好像废话有点多<em>(:з)∠)</em> -&gt;-&gt; <a href="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/#Start">直接开始的传送门</a></p>

<p>一直觉得微软为 Windows 引入 UAC 是个明智的选择，它能在一定程度上减少 Windows 平台过于开放，流氓软件肆意横行的局面。
国内的情况比较特殊，因为很多人根本不知道那是什么，无脑点 “允许” 。
都是被那群流氓给教坏的。。。
抛开这些不谈，即使 UAC 的使用很有必要，但每次都弹出的蓝色框框确实很烦人，特别是在那些需要曾经使用管理员权限的软件上。因此，有的人直接选择关闭 UAC ，不过这样却对系统安全性产生了风险。</p>

<p>所以，如何才能在不关闭 UAC 的情况下，让某些应用不经过 UAC 使用管理员权限？</p>

<p>我首先想到的是使用 Autohotkey 帮用户点“允许”
桌面分为三层，分别是 Winlogon Desktop、Screensaver Desktop、Application Desktop。
所有的应用都运行在 Application Desktop 上（ UAC 不算）。UAC 在 Winlogon Desktop 上弹出的窗口。
也就是说，以Autohotkey 所在的位置 UAC 它捞都捞不到。。。</p>

<p>那么，到底要如何干掉 UAC 呢？</p>

<p>经过研究发现，想要在不关闭 UAC 的情况下，让某些应用不经过 UAC 使用管理员权限有两种方法。
分别是使用 任务计划程序 或 <a href="https://technet.microsoft.com/en-us/library/cc766242(v=ws.10).aspx">Application Compatibility Toolkit (ACT)</a>。
这里只解释使用 任务计划程序。</p>

<h1 id="正文">正文</h1>

<p>下面正式开始。</p>

<p>我们以 CMD 为例。
在开始菜单找到 CMD，右键 -&gt; 以管理员身份运行
果不其然弹出了 UAC。
*上面已经解释过了，UAC 截不出来 <em>(:з)∠)</em></p>

<p>首先，我们打开 任务计划程序
右键 “计算机” -&gt; 管理 -&gt; 任务计划程序
或者 直接在 Cortana 中搜索： 任务计划程序</p>

<p>计划任务程序库 -&gt; 创建任务
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/RunCMDAdmin_1.png" alt="添加任务计划" /></p>

<p>在弹出的对话框中填写名称（名称随便取，但<strong>一定要记住</strong>）
<strong>勾选 ✅使用最高权限运行</strong>
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/RunCMDAdmin_2.png" alt="添加任务计划" /></p>

<p>操作 -&gt; 新建
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/RunCMDAdmin_3.png" alt="添加任务计划" /></p>

<p>点 “浏览” 找到 cmd.exe 的路径
或者直接把以下路径粘贴过去</p>

<pre><code>C:\Windows\System32\cmd.exe
</code></pre>

<p><img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/RunCMDAdmin_4.png" alt="添加任务计划" />
确认</p>

<p>应该能看见新建好的操作
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/RunCMDAdmin_5.png" alt="添加任务计划" />
确认</p>

<p>现在找一下列表中有没有刚刚创建的计划任务
找到后右键 -&gt; 运行 以确认能运行
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/RunCMDAdmin_6.png" alt="添加任务计划" /></p>

<p>成功运行 CMD，并且是以管理员身份，而且没有弹出 UAC
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/RunCMDAdmin_7.png" alt="添加任务计划" /></p>

<p>现在如果去菜单，双击 CMD。会以普通权限运行。
右键 -&gt; 以管理员身份运行。依然弹出 UAC。
所以失败了吗？<em>(:з)∠)</em></p>

<p>其实。。。只是打开方式不对
我们到随便一个目录，右键 -&gt; 新建 -&gt; 快捷方式
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/Shortcut_1.png" alt="正确的打开方式" /></p>

<p>这里的路径就不能通过 “浏览” 来找了
直接复制下面的路径粘贴过去</p>

<pre><code>schtasks.exe /run /tn &quot;[刚刚创建的计划任务的名称]&quot;
</code></pre>

<p><img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/Shortcut_2.png" alt="正确的打开方式" /></p>

<p>填上你喜欢的名字
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/Shortcut_3.png" alt="正确的打开方式" />
完成</p>

<p>现在双击次快捷方式，就可以在不触发 UAC 的情况下以管理员身份运行了</p>

<p>下面就可以把次快捷方式丢到你喜欢的地方去，想以管理员身份运行 CMD 时，双击它就可以了
我一般把他放在 开始菜单 里，这样就可以从 开始菜单 或 Cortana 中启动了
按 Win键 + R，左下角会弹出一个对话框，在路径栏中粘贴（<strong>将[你的用户名]替换为你的用户名，不确定的可以去 C:\Users\ 路径下查看</strong>）</p>

<pre><code>C:\Users\[你的用户名]\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\System Tools
</code></pre>

<p><img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/MoveStartMenu.png" alt="开始菜单启动" />
确定 或 回车
把刚刚创建好的 快捷方式 丢进去</p>

<p>如果嫌快捷方式太丑，可以换图标。
右键刚刚创建的快捷方式 -&gt; 属性 -&gt; 更改图标
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/ReIcon_1.png" alt="更改图标" />
他会提示你 “不包含图标”，点确认。</p>

<p><img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/ReIcon_2.png" alt="更改图标" />
在路径栏中键入</p>

<pre><code>C:\Windows\System32\cmd.exe
</code></pre>

<p>回车 列表里只有一个图标，选中它
<img src="https://mogeko.github.io/post/uac-%E7%99%BD%E5%90%8D%E5%8D%95/ReIcon_3.png" alt="更改图标" />
确认 -&gt; 确认</p>

<p>这时两个 CMD 的图标就一样了，可以在 开始菜单 或 Cortana 中，按需启动。</p>

<p><br></p>

<p><center>  ·End·  </center></p>
</section>

<div class="share">
  <a href="http://www.facebook.com/sharer.php?src=bm&u=https%3a%2f%2fmogeko.github.io%2fpost%2fuac-%25E7%2599%25BD%25E5%2590%258D%25E5%258D%2595%2f&t=UAC%20%e7%99%bd%e5%90%8d%e5%8d%95" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-facebook"></i></a>
  <a href="http://twitter.com/intent/tweet?url=https%3a%2f%2fmogeko.github.io%2fpost%2fuac-%25E7%2599%25BD%25E5%2590%258D%25E5%258D%2595%2f&text=UAC%20%e7%99%bd%e5%90%8d%e5%8d%95&tw_p=tweetbutton" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-twitter"></i></a>
  <a href="https://plus.google.com/share?url=https%3a%2f%2fmogeko.github.io%2fpost%2fuac-%25E7%2599%25BD%25E5%2590%258D%25E5%258D%2595%2f" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-google-plus"></i></a>
  <a href="http://getpocket.com/edit?url=https%3a%2f%2fmogeko.github.io%2fpost%2fuac-%25E7%2599%25BD%25E5%2590%258D%25E5%258D%2595%2f&title=UAC%20%e7%99%bd%e5%90%8d%e5%8d%95" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-get-pocket"></i></a>
</div>

<div class="post-meta-code">
  <div class="desc">
    public string description() {
    <div class="desc">val author = "
    
        <a href="mailto:zhengjunyi@live.com"></a>
    ";
    </div>
    
    }
  </div>
  <div class="desc">
    public string tags() {
      <div class="desc">
        val tags = [
        
          
          <a href="https://mogeko.github.iotags/windows">"Windows"</a>
          
        
        ];
      </div>
    }
  </div>
</div>


<div class="post-comment">
    
      

<div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script>
  <script type="text/javascript">
    const gitalk = new Gitalk({
      clientID: '936cecdd2ab935870ca5',
      clientSecret: '39cfc7a3cb9a974b6609f3fdaa637e2917e3e40a',
      repo: 'mogeko.github.io',
      owner: 'Mogeko',
      admin: 'Mogeko'.split(','),
      pagerDirection: 'last',
      id: md5(window.location.pathname),
      
      distractionFreeMode: false
    })
    gitalk.render('gitalk-container')
  </script>
</div>

<div class="paging post-paging">
  
  <a class="left" href="https://mogeko.github.io/post/%E4%BD%BF%E7%94%A8-github-hexo-%E5%BB%BA%E7%AB%8B%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/" rel="prev">
    <i class="fa fa-caret-left" aria-hidden="true"></i> <span>使用 Github &#43; Hexo 建立自己的博客</span>
  </a>
  
  
  <a class="right" href="https://mogeko.github.io/post/%E5%AE%89%E8%A3%85-ubuntu-%E5%8F%8C%E7%B3%BB%E7%BB%9F/" rel="next">
    <span>安装 Ubuntu 双系统</span> <i class="fa fa-caret-right" aria-hidden="true"></i>
  </a>
  
</div>

<footer class="footer">
  COPYRIGHT (C) <a href="https://blog.lulab.net">MOGEKO</a>. ALL RIGHTS RESERVED.
</footer>

</body>
</html>

